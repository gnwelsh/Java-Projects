
<!doctype html>
<html>
	<head>

		<title>Etown Dorm Arranger</title>
		<link rel="stylesheet" type="text/css" href="http://www.jeasyui.com/easyui/themes/default/easyui.css">
		<link rel="stylesheet" type="text/css" href="http://www.jeasyui.com/easyui/themes/icon.css">
		
		<style type="text/css">
			h1 {
				font-weight: bold;
				color: #fff;
				font-size: 32px;
}
			#desk1{
				background-image: url(Furniture/desk.png);
				background-repeat:no-repeat;
				position: absolute;
				width:160px;
				height:140px;
				top:0px;
				left:0px;
			}
			
			#desk2{
				background-image: url(Furniture/desk.png);
				background-repeat:no-repeat;
				position: absolute;
				width:160px;
				height:140px;
				top:150px;
				left:0px;
			}
			
			#bed1{
				white-space: nowrap;
				position: absolute;
				width:63px;
				height:161px;
				top:260px;
				left:0px;
				
			}
			
			#bed2{
				white-space: nowrap;
				position: absolute;
				width:63px;
				height:161px;
				top:450px;
				left:0px;
			}
			
			#dresser1{
				background-image: url(Furniture/dresser.png);
				background-repeat:no-repeat;
				position: absolute;
				width:160px;
				height:140px;
				top:0px;
				left:150px;
			}
			
			#dresser2{
				background-image: url(Furniture/dresser.png);
				background-repeat:no-repeat;
				position: absolute;
				width:160px;
				height:140px;
				top:0px;
				left:270px;
			}
			
			#wardrobe1{
				background-image: url(Furniture/Wardrobe.png);
				background-repeat:no-repeat;
				position: absolute;
				width:120px;
				height:100px;
				top:0px;
				left:400px;
			}
			
			#wardrobe2{
				background-image: url(Furniture/Wardrobe.png);
				background-repeat:no-repeat;
				position: absolute;
				width:120px;
				height:100px;
				top:0px;
				left:500px;
			}
			
			
			
			#floor{
				background-image: url(defalt.png);
				background-repeat:no-repeat;
				background-position:center;
				width:600px;
				height:600px;
			}
			html{font-family: Verdana, Helvetica, Arial, sans-serif;}
		</style>
		<script src="http://code.jquery.com/jquery-1.6.1.min.js"></script>
		<script src="http://www.jeasyui.com/easyui/jquery.easyui.min.js"></script>
		<script src="http://code.jquery.com/jquery-1.9.1.js"></script>
		<script src="http://code.jquery.com/ui/1.10.1/jquery-ui.js"></script>
		<script src="http://code.jquery.com/ui/1.10.1/jquery-ui.js"></script>
		<script type="text/javascript" src="jscolor/jscolor.js"></script>
		<script>

		var lastClicked = null;
		var shapeNumber = 1;
		
		function Room(number, xLength, yLength, floorPlan) {
			this.number = number;
			this.xLength = xLength;
			this.yLength = yLength;
			this.floorPlan = floorPlan;
			var furneture = [];
}

//var rooms = ["logo.jpg","room.gif","table.jpg","text.png"];		
var buildingList = ["Select Building","Brinser","Founders","Myer","Ober","Royer","Schlosser"];
var brinser = ["Select Brinser Room",101,102,104,106,107,108,109,110,111,112,113,114,115,116,117,119,203,204,204,205,206,207,208,20,210,211,212,213,215,216,217,218,219,221,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,319,321];
var founders = ["Select Founders Room",
				"A-101","A-102","A-103","A-104","A-105","A-106","A-107","A-108","A-109","A-110","A-111","A-112","A-201","A-202","A-203","A-204","A-205","A-206","A-207","A-208","A-209","A-210","A-211","A-212","A-213","A-214","A-215","A-216","A-301","A-302","A-303","A-304","A-305","A-306","A-307","A-308","A-309","A-310","A-311","A-312","A-313","A-314","A-315","A-316",
				"B-101","B-102","B-103","B-104","B-105","B-106","B-201","B-202","B-203","B-204","B-205","B-206","B-207","B-208","B-209","B-210","B-211","B-212","B-213","B-214","B-215","B-216","B-301","B-302","B-303","B-304","B-305","B-306","B-307","B-308","B-309","B-310","B-311","B-312","B-313","B-314","B-315","B-316",
				"C-101","C-102","C-103","C-104","C-105","C-106","C-201","C-202","C-203","C-204","C-205","C-206","C-207","C-210","C-211","C-212","C-213","C-214","C-215","C-216","C-301","C-302","C-303","C-304","C-305","C-306","C-307","C-308","C-309","C-310","C-311","C-312","C-313","C-314","C-315","C-316",
				"D-101","D-102","D-103","D-104","D-105","D-106","D-107","D-108","D-109","D-110","D-111","D-112","D-201","D-202","D-203","D-204","D-205","D-206","D-207","D-208","D-209","D-210","D-211","D-212","D-213","D-214","D-215","D-216","D-301","D-302","D-303","D-304","D-305","D-306","D-307","D-308","D-309","D-310","D-311","D-312","D-313","D-314","D-315","D-316"
				];
var myer = ["Select Myer Room",132,134,135,136,137,202,203,204,205,206,207,208,209,217,218,224,225,226,228,229,230,232,233,234,235,236,246,249,250,251,252,253,302,303,304,305,306,307,308,309,317,318,319,321,322,324,325,326,328,329,330,332,333,334,335,336,346,349,350,351,352,353];
var ober = ["Select Ober Room","A-100","A-101","A-102","A-103","A-104","A-105","A-106","A-107","A-109","A-110","A-111","A-112","A-113","A-114","A-115","A-116","A-118","A-200","A-201","A-202","A-203","A-204","A-205","A-206","A-207","A-209","A-210","A-211","A-212","A-213","A-214","A-215","A-216","A-218","A-300","A-301","A-302","A-303","A-304","A-305","A-306","A-307","A-309","A-310","A-311","A-312","A-313","A-314","A-315","A-316","A-317","A-318","B-50","B-51","B-52","B-53","B-54","B-55","B-56","B-57","B-58","B-59","B-60","B-61","B-62","B-63","B-64","B-150","B-151","B-152","B-153","B-154","B-155","B-156","B-157","B-158","B-159","B-160","B-161","B-163","B-164","B-165","B-166","B-167","B-168","B-170","B-250","B-252","B-254","B-256","B-257","B-258","B-259","B-260","B-261","B-263","B-264","B-265","B-266","B-267","B-268","B-270","B-349","B-365"];
var royer = ["Select Royer Room",101,102,103,104,105,106,115,116,117,118,125,126,127,132,133,134,135,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,221,222,223,224,225,226,227,228,229,230,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,322,323,324,325,326,327,328,329,330];
var schlosser = ["Select Schlosser Room",101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,242,244,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343];

			$(function(){
			$( "#floor" );
			$('#desk1').draggable({proxy:'clone'},{containment: "parent"});
			$('#desk2').draggable({proxy:'clone'},{containment: "parent"});
			$('#bed1').draggable({proxy:'clone'},{containment: "parent"});
			$('#bed2').draggable({proxy:'clone'},{containment: "parent"});
			$('#dresser1').draggable({proxy:'clone'},{containment: "parent"});	
			$('#dresser2').draggable({proxy:'clone'},{containment: "parent"});	
			$('#wardrobe1').draggable({proxy:'clone'},{containment: "parent"});	
			$('#wardrobe2').draggable({proxy:'clone'},{containment: "parent"});	
			});

window.onload=function(){
fillList(buildingList,"buildings");

};

function removeFunction()
{
var parent = document.getElementById("floor");
var classValue = lastClicked.className;

if(classValue === "permanent ui-draggable")
{
alert("All furniture that the College provides must remain inside the room.");
}
else
{
parent.removeChild(lastClicked);
}
}

function rotateRight()
{
	if( lastClicked != null )
	{
		if( lastClicked.hasOwnProperty('rotation') )
			lastClicked.rotation += 90;
		else
			lastClicked.rotation = 90;
				
		lastClicked.style.webkitTransform = 'rotate(' + lastClicked.rotation + 'deg)'; 
		lastClicked.style.mozTransform    = 'rotate(' + lastClicked.rotation + 'deg)'; 
		lastClicked.style.msTransform     = 'rotate(' + lastClicked.rotation + 'deg)'; 
		lastClicked.style.oTransform      = 'rotate(' + lastClicked.rotation + 'deg)'; 
		lastClicked.style.transform       = 'rotate(' + lastClicked.rotation + 'deg)'; 
	}
}

function rotateLeft()
{
if( lastClicked != null )
	{
		if( lastClicked.hasOwnProperty('rotation') )
			lastClicked.rotation -= 90;
		else
			lastClicked.rotation = -90;
				
		lastClicked.style.webkitTransform = 'rotate(' + lastClicked.rotation + 'deg)'; 
		lastClicked.style.mozTransform    = 'rotate(' + lastClicked.rotation + 'deg)'; 
		lastClicked.style.msTransform     = 'rotate(' + lastClicked.rotation + 'deg)'; 
		lastClicked.style.oTransform      = 'rotate(' + lastClicked.rotation + 'deg)'; 
		lastClicked.style.transform       = 'rotate(' + lastClicked.rotation + 'deg)'; 
	}
}

function showFunction()
{
    document.getElementById("newShape").style.display = "block";
}

function setClicked(id)
{
lastClicked=document.getElementById(id);
}

function addFunction() {
	var name,height,color,width;
	name=document.getElementById("name").value;
	color=document.getElementById("color").value;
	height=document.getElementById("height").value+"px";
	width=document.getElementById("width").value+"px";
	var plan = document.getElementById("floor");
	var shape = document.createElement('div');
	var shapeName = "shape"+shapeNumber;
	shapeNumber++;
	shape.id = shapeName;//check
	shape.className = "temporary ui-draggable";
	shape.style.backgroundColor = '#' + color;
	plan.appendChild(shape);
	shape.innerHTML = name;
	shape.onclick = function() { setClicked(shapeName) };				
	shape.style.width=width;
	shape.style.height=height;
	$('#' + shapeName ).draggable({proxy:'clone'},{containment: "parent"});
	document.getElementById('name').value='';
	document.getElementById('color').value='';
	document.getElementById('height').value='';
	document.getElementById('width').value='';
	document.getElementById("newShape").style.display = "none";

}

function ValidateForm(){
	
	var building = document.getElementById("buildings");
	var room = document.getElementById("rooms");
	
    if (building.selectedIndex == 0) {
         alert ( "Please select a Building" ); 
	
	}
	
	if(room.selectedIndex == 0){
		alert ( "Please select a room" );
		 
    }
	
	else if (building.selectedIndex != 0 && room.selectedIndex != 0){
		alert ( "You Picked Room "+room.value+" in Building "+building.value+"!"+"\n"+"Note: rooms containing storage units may not be issued dressers or wardrobes");
		//set room method
		document.getElementById("floor").style.backgroundImage = "url('Room2.png')";
		document.getElementById("desk1").style.visibility = "visible";
		document.getElementById("desk2").style.visibility = "visible";
		document.getElementById("bed1").style.visibility = "visible";
		document.getElementById("bed2").style.visibility = "visible";
		document.getElementById("dresser1").style.visibility = "visible";
		document.getElementById("dresser2").style.visibility = "visible";
		document.getElementById("wardrobe1").style.visibility = "visible";
		document.getElementById("wardrobe2").style.visibility = "visible";
		
	}

}

function fillList(list,id) {
var item= document.getElementById(id);
for(var i = 0; i < list.length; i++) {
    var opt = document.createElement('option');
    opt.innerHTML = list[i];
    opt.value = list[i];
    item.appendChild(opt);
}
}

function showBuilding() {

	document.getElementById('rooms').options.length = 0;
    var x = document.getElementById("buildings").value;
	
	if(x!=="Select Building")
	{
	 document.getElementById('rooms').disabled = false;
	}
	else
	{
	document.getElementById('rooms').disabled = true;
	}
	
	if (x==="Brinser")
	{
	fillList(brinser,"rooms");
	}
	
	if (x==="Founders")
	{
	fillList(founders,"rooms");
	}
	
	if (x==="Myer")
	{
	fillList(myer,"rooms");
	}
	
	if (x==="Ober")
	{
	fillList(ober,"rooms");
	}
	
	if (x==="Royer")
	{
	fillList(royer,"rooms");
	}
	
	if (x==="Schlosser")
	{
	fillList(schlosser,"rooms");
	}
}

</script>
<title>
Etown Dorm Arranger
</title>
</head>
<body>

<table bgcolor="#0000FF" width="100%">
  <tr>
    <th width="25%"><img src="logo.png"></th>
    <th width="50%"><h1>Dorm Arranger</h1></th>
	<th width="25%"><img src="logo.png"></th>
  </tr>
</table>
<br/>
<br/>
<div id="interface" style="width: 20%; margin: 0px auto;">
<select id="buildings" onchange="showBuilding()">
</select>
<br/>
<br/>
<select disabled id="rooms" >
</select>
<br/>
<br/>
<input type="button" id="Submit" value="Submit" onClick="ValidateForm()">
<br/>
<br/>
<div id="floor" style="position: relative;">

<div id="desk1" class="permanent" style="visibility: hidden" onclick="setClicked('desk1')">

</div>

<div id="desk2" class="permanent" style="visibility: hidden" onclick="setClicked('desk2')">

</div>

<div id="bed1" class="permanent" style="visibility: hidden" onclick="setClicked('bed1')">
<img src="Furniture/bed.png"/>
</div>

<div id="bed2" class="permanent" style="visibility: hidden" onclick="setClicked('bed2')">
<img src="Furniture/bed.png"/>
</div>

<div id="dresser1" class="permanent" style="visibility: hidden" onclick="setClicked('dresser1')">

</div>

<div id="dresser2" class="permanent" style="visibility: hidden" onclick="setClicked('dresser2')">

</div>

<div id="wardrobe1" class="permanent" style="visibility: hidden" onclick="setClicked('wardrobe1')">

</div>

<div id="wardrobe2" class="permanent" style="visibility: hidden" onclick="setClicked('wardrobe2')">

</div>

</div>
<br/>
<br/>
<button onclick="rotateRight()">Rotate Shape Right</button>
<br/>
<br/><button onclick="rotateLeft()">Rotate Shape Left</button>
<br/>
<br/>
<button onclick="removeFunction()">Delete Shape</button>
<br/>
<br/>
<button id="create" onclick="showFunction()">Create a Shape</button>
<div id="newShape" style="display:none">
<br/>
<br/>
Enter Name: 
<input type="text" id="name">
<br/>
<br/>
Enter Color: 
<input id="color" class="color" value="ffffff">
<br/>
<br/>
Enter Width: 
<input type="number" id="width">
<br/>
<br/>
Enter Height: 
<input type="number" id="height">
<br/>
<br/>
<button id="add" onclick="addFunction()">Add Shape</button>
</div>
<br/>
<br/>
<div id="instructions">
<p>
For best results please use in Mozilla Firefox or Google Chrome
<br/>
<br/>
Instructions:
<br/>
<br/>
After a room is selected you can drag the dorm furniture around anywhere you would like and use the on screen controls to rotate the furniture
You may also add your own furniture by clicking the create shape button and typing a name, color, width and height.  
</p>
</div>

<br/>
<a href="http://www.etown.edu/offices/residence-life/halls-apts/index.aspx">Go back</a>
</div>
</body>
</html>